{% extends 'travel/base.html' %}
{% load static %}

    {% block content %}

    <head>
        <link rel="stylesheet" href="{% static 'travel/adminDashboard.css' %}">
    </head>
    <div class="admin-dashboard-container">
        <h1>Admin Dashboard</h1>
            <nav>
            <ul>
                <li><a href="{% url 'admin_logout' %}">Logout</a></li>
            </ul>
        </nav>

        <div class="admin-dashboard-content">
            <h2>Welcome, Admin!</h2>

            
        <section class="manage-users">
            <h3>All User Profiles</h3>
            <table>
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Email</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Staff</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.username }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.first_name }}</td>
                            <td>{{ user.last_name }}</td>
                            <td>{{ user.is_staff }}</td>
                            <td>
                                <a href="{% url 'edit_user' user.id %}">Edit</a> |
                                <a href="{% url 'delete_user' user.id %}" onclick="return confirm('Are you sure?');">Delete</a> | 
                                <a href="{% url 'toggle_staff' user.id %}">
                                    {% if user.is_staff %}
                                        Remove Staff
                                    {% else %}
                                        Make Staff
                                    {% endif %}
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
        </div>
    </div>
    {% endblock %}
